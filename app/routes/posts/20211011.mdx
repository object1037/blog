---
id: 20211011
title: WebでSimejiの顔文字変換ができるツールを作った
description: Simejiのクラウド超変換で顔文字変換をするWebアプリケーションを作った話
tags: ['Web']
public: true
---

[Simeji](https://simeji.me/)というスマホアプリにはキーボードのきせかえ等の機能のほか、**クラウド超変換**というユーザーが登録した単語を変換できる機能があります。

この機能では固有名詞を簡単に変換できるという利点の他に、ユーザーが作った大量の顔文字を変換で使えるという利点があり、顔文字を使うときに重宝しています。
しかし、SimejiはスマホアプリなのでパソコンからはSimejiの顔文字変換が使えません。

そういうわけで、パソコンからでも顔文字変換を簡単に使いたかったのでSimejiのクラウド超変換で顔文字変換をするWebアプリケーションを作りました。

## できたもの

![bnaSimejiのスクリーンショット](/images/bnaSimeji-c01c492-1392:699.png)

bnaSimeji: https://bnasimeji.vercel.app

ひらがなを検索欄に打ち込んで検索すると顔文字がリストアップされます。クリックでコピーできます。

::: note warn
入力した内容はおそらくBaidu Japan社に記録されます
:::

ソースコードは[GitHub](https://github.com/object1037/bnaSimeji)で公開しています。

## bnaSimejiができるまで

### iPhoneの通信を見てみよう

まず、Simejiのクラウド超変換がどういう通信をしているのか見たかったので、[Proxyman](https://proxyman.io/)でiPhoneの通信を見てみました。

![ProxymanでiPhoneの通信を見る様子|2128:100](/images/proxyman-10cdb74-2128:100.png)
*Spotlightを開いて「ねこ」と打ったときの通信の様子*

どうやら`http://cloud.simeji.me/py?ol=1&switch=2&section=1&ver=10.6&api_version=2&web=1&py=変換したいひらがな`にGETリクエストして変換データを取得しているようです。

さらに、変換データが多い場合レスポンス内の`continue`が`1`になり、上のURLの`section`クエリの数字が増えたURLから追加で変換データを取得することもわかりました。

### いろいろやる

あとはいろいろやります。

* [Next.js](https://nextjs.org/)
* [Tailwind CSS](tailwindcss.com)
* [SWR](https://swr.vercel.app/ja)

あたりをつかっています。

## おわりに

結構短い時間で実装できたのでよかったです。みんなも使って乁(˙꒳˙乁)ｸﾚﾖ...
