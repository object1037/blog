diff --git a/lib/index.js b/lib/index.js
index afec8d8defc975811eaed0b5af0a8d571771c6b1..d3ba7fb51dd465e65aeac981e32d6ffff56c90af 100644
--- a/lib/index.js
+++ b/lib/index.js
@@ -11,7 +11,7 @@ var ParserBlock  = require('./parser_block');
 var ParserInline = require('./parser_inline');
 var LinkifyIt    = require('linkify-it');
 var mdurl        = require('mdurl');
-var punycode     = require('punycode');
+var punycode     = require('punycode/');
 
 
 var config = {
diff --git a/package.json b/package.json
index 7577da07e822ae7746ccfdadad75907e31d5389b..9ebe19a756a051671fe376ead3ab83f9df641f92 100644
--- a/package.json
+++ b/package.json
@@ -41,6 +41,7 @@
     "entities": "~3.0.1",
     "linkify-it": "^4.0.1",
     "mdurl": "^1.0.1",
+    "punycode": "^2.3.0",
     "uc.micro": "^1.0.5"
   },
   "devDependencies": {
@@ -83,5 +84,10 @@
   "mocha": {
     "inline-diffs": true,
     "timeout": 60000
+  },
+  "pnpm": {
+    "patchedDependencies": {
+      "markdown-it@13.0.2": "patches/markdown-it@13.0.2.patch"
+    }
   }
 }
